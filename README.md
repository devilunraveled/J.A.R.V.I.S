#J.A.R.V.I.S

##### Assumptions :
1. File Structure is maintained.

### Installing
```bash
make                        #should be run in the main directory
./jarvis                    #Executable file generated by the makefile.
```

### jarvis.c
##### Purpose :
- Input Processing.
- Tokenization.
- Strips stray spaces and tabs.
- Control Program

### utils.c
##### Purpose : 
- General utilities required by multiple programs.
- `filters` : Stripping of leading spaces/tablines.
- `choose` : Calls respective functions based on input ny user.
- `abs_to_rel` & `rel_to_abs` : Chananging the form of path. 
### ./Logger
##### Purpose : Contains the instructions for custom errors/warnings/success.
 
Files :

**logger.h**            #Definitions Of the Functions
**logger.c**            #Implementation of the functions 
- `Success(char *)`  // DEFAULTS TO GREEN COLOR OUTPUT ON SUCCESS.
- `Error(char *)`    // DEFAULTS TO RED COLOR OUTPUT ON A ERROR.
- `Warning(char *)`  // DEFAULTS TO YELLOW COLOR OUTPUT ON A WARNING.


### ./Prompt
##### Purpose : Contains the code for the execution of the prompt.
 
Files :
**prompt.h**            #Definitions Of the Functions
**prompt.c**            #Implementation of the functions 
- ` display_prompt( char* prompt, char* curr_path) `       # modifies the prompt string to the prompt message.
    // Hidden command to change the display structure of the prompt.


### ./funcs
##### Purpose : Contains the instructions for all the implemented functions.
 
Files :

1. **my_echo.c**                           
    -> ` int echo(char *)`
    Return value is based on success of the functions.
```bash   
`echo` text
**text**
```
2. **my_cd.c**    
-> ` char* cd (char *input , char *curr_path , char *prev_path , char *home) `
Returns the updated new path.
Updates the value of `prev_path`.
```bash
`cd` ..                         # Goes to the previous directory.
`cd` ~/<directory>              # Assumes '~', as the home, the path where execuatable is opened.
`cd` -                          # Opens the last opened directory.
`cd`                            # Goes to the home folder.
```

3. **my_pwd.c**
-> `void pwd( char *curr_path, char *command )`
Defaults to zsh implementation.
Any arguments after pwd are considered invalid ( except spaces and tabs)
```bash
`pwd`                           # Displays the present working directory as **absolute path**.
```
4. **my_clear.c**
-> `int clear( command )`
No argumnets allowed : Results in error ( spaces and tabs allowed ).
Clears the console.
```bash
`clear`                         # Clears the visible console.
```

5. **my_ls.c**
-> `int ls(char * command, char* curr_path, const char *home)`
The ls ( level shift ) function displays the list of files in accordance with the flags : `-l` and `-a`, and their combination.
In case of an argument of a file, ls prints the details of that particular file.

When provided with multiple arguments, ls displays the arguments in the following manner:
Command : 
```bash
`ls` file_1 file_2 -l dir_1 -a
file_1_name:
details_of_file_1

file_2_name:
details_of_file_2

dir_1_name:
details_of_dir_1

```
The order of arguments is maintained and instead of the user-input address/name of the file, the name is printed before displaying information regarding the corresponding file/directory.

6. **history.c**
-> Stores the history of the **commands** entered in the shell, commands are added using the push-history function and last 10 commands are displayed using the history function.
Commands with multiple instructions are broken into their individual counterpart and stored in the file `/home/<username>/.jarvis_history`.Successive commands are not repetitively stored. Commands are stripped of leading spaces before storing.
```bash
`history`                       # Displays the last 10 executed commands.

```
> Note : Instructions such as " sleep 5& echo 75; pwd" are broken into three different commands and then strored in history as three different commands. A feature different from typical shells.

7. **discover.c**
->`discover( char *command )`.
Lists/Searches for files **recursively** in the current directory or a custom directory if passed as argument.
Commands with files end up searching for that particular file in the file tree.
```bash
discover  <directories> -d/-f <files>        #Order does not matter.
```


9. **system_commands**
-> `sys_commands_f( char *command)`
Matches the command given as input and executes the corresponding binary file in PATH, therefore mimicking the commands that are inbuilt, such as `sleep`, `nvim`, `make`. This also works with commands which are supposed to be run in background, like `sleep 5&` etc.

10. **process information**
-> `fg` , `bg`, `jobs` and `sig`. All are useful instructions used in gathering data regarding the current state of background processes and the various actions associated with them.

11. **Terminal Redirection**
-> Used to redirect the input of a file to a function and redirect the function's output to an output file. This works also when either of the two are missing.

12. **Pipelining**
-> Commands are run sequentially and the output of one is passed as the input to the next. The behaviour of the signal handler in this case is undefined. 

13. **Autocomplete**
-> File names are autocompleted when <tab> is entered as the input to the prompt, if no matching file is seen, then the file name is removed, treating it as an error. Currently does not supprt autocomplete with absolute path.

14. **Process Suspension**
-> Pressing <Control><Z>, on an active foreground prcocess would send it to the group of background processes.

> Note : All the commands were succesfully run on Manjaro Linux 21.3.6 Ruah and kernel 5.15.57-2-MANJARO with gcc version : 12.1.0.
